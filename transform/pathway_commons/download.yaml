

PC_SOURCES = [
    "reconx",
    "reactome",
    "psp",
    "pid",
    "pathbank",
    "panther",
    "netpath",
    "msigdb",
    "mirtarbase",
    "kegg",
    "intact_complex",
    "intact",
    "inoh",
    "innatedb",
    "humancyc",
    "hprd",
    "drugbank",
    "dip",
    "ctd",
    "corum",
    "biogrid",
    "bind"
]

scripts:
  downloadPathways:
    commandLine: curl -o ../../source/pathway_commons/pathways.txt.gz https://www.pathwaycommons.org/archives/PC2/v11/pathways.txt.gz
  downloadPaxtools:
    commandLine: curl -o ../../source/pathway_commons/paxtools.jar https://www.pathwaycommons.org/archives/PC2/v11/paxtools.jar
  downloadOwl:
    commandLine


        "source/pathway_commons/PathwayCommons12.{source}.BIOPAX.owl.gz"
    shell:
        "curl -o source/pathway_commons/PathwayCommons12.{wildcards.source}.BIOPAX.owl.gz https://www.pathwaycommons.org/archives/PC2/v12/PathwayCommons12.{wildcards.source}.BIOPAX.owl.gz"


rule allSIF:
    input:
        expand("source/pathway_commons/PathwayCommons12.{source}.extSIF", source=PC_SOURCES)
    output:
        "source/pathway_commons/PathwayCommons12.ALL.extSIF"
    shell:
        "cat {input} > source/pathway_commons/PathwayCommons12.ALL.extSIF"

    input:
        "source/pathway_commons/PathwayCommons12.{source}.BIOPAX.owl.gz",
	"source/pathway_commons/paxtools.jar"
    output:
        "source/pathway_commons/PathwayCommons12.{source}.extSIF"
    resources:
        mem_mb=15000
    shell:
        "java -Xmx15g -jar ./source/pathway_commons/paxtools.jar toSIF source/pathway_commons/PathwayCommons12.{wildcards.source}.BIOPAX.owl.gz source/pathway_commons/PathwayCommons12.{wildcards.source}.extSIF seqDb=hgnc exclude=neighbor_of MEDIATOR PUBMED PMC COMMENTS PATHWAY PATHWAY_URI RESOURCE SOURCE_LOC TARGET_LOC"
