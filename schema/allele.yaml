$schema: "https://json-schema.org/draft/2020-12/schema"

id: "allele"
title: Allele
type: object

required:
  - id
  - chromosome
  - start
  - genome
  - reference_bases
  - alternate_bases

uniqueKeys:
  - [id]
  - [project_id, submitter_id]

properties:
  id:
    type: string
    #$ref: _definitions.yaml#/UUID
    #systemAlias: node_id
  reference_bases:
    type: string
  alternate_bases:
    type: string
  genome:
    $ref: _definitions.yaml#/genome
  chromosome:
    $ref: _definitions.yaml#/chromosome
  start:
    type: integer
  end:
    type: integer
  strand:
    $ref: _definitions.yaml#/strand
  dbsnp_rs:
    type: string
  effects:
    targets:
      - type:
          $ref: allele_effect.yaml
        backref: allele
    #type: array
    #items:
    #  $ref: allele_effect.yaml
    $ref: _definitions.yaml#/to_many
  gene:
    targets:
      - type:
          $ref: gene.yaml
    $ref: _definitions.yaml#/to_one
  transcript:
    targets:
      - type:
          $ref: transcript.yaml
    $ref: _definitions.yaml#/to_one
  protein:
    targets:
      - type:
          $ref: protein.yaml
        backref: allele
    $ref: _definitions.yaml#/to_one
  project_id:
    $ref: _definitions.yaml#/project_id
  submitter_id:
    type:
      - string
      - 'null'
  type:
    type: string
  created_datetime:
    $ref: _definitions.yaml#/datetime
  updated_datetime:
    $ref: _definitions.yaml#/datetime
