

name: ensembl
class: sifter

outdir: ../graph

config:

    exons:
        type: File
        default: ../output/ensembl/ensembl.exons.exon.json.gz
    exonsSchema:
        type: Dir
        default: ../src/bmeg/bmeg-dictionary/gdcdictionary/schemas

    genes:
        type: File
        default: ../output/ensembl/ensembl.genes.gene.json.gz
    genesSchema:
        type: Dir
        default: ../src/bmeg/bmeg-dictionary/gdcdictionary/schemas

    transcripts:
        type: File
        default: ../output/ensembl/ensembl.transcripts.transcript.json.gz
    transcriptsSchema:
        type: Dir
        default: ../src/bmeg/bmeg-dictionary/gdcdictionary/schemas


inputs:

    exons:
        jsonLoad:
            input: "{{config.exons}}"

    genes:
        jsonLoad:
            input: "{{config.genes}}"

    transcripts:
        jsonLoad:
            input: "{{config.transcripts}}"


pipelines:

    exons-graph:
        - from: exons
        - graphBuild:
            schema: "{{config.exonsSchema}}"
            class: exon

    genes-graph:
        - from: genes
        - graphBuild:
            schema: "{{config.genesSchema}}"
            class: gene

    transcripts-graph:
        - from: transcripts
        - graphBuild:
            schema: "{{config.transcriptsSchema}}"
            class: transcript

